{% if filetype_loop_jinja2 == "csv" %}{% for slot in to_parse_inventory %}{% for part in to_parse_inventory[slot].rp %}{% if to_parse_inventory[slot].rp[part].subslot is defined %}{% for subslot in to_parse_inventory[slot].rp[part].subslot %}{% for subslot,subslot_part in to_parse_inventory[slot].rp[part].subslot.items() %}{% for subslot_part,part_details in subslot_part.items() %}
{{ hostname }},{{ slot }},{{ part }},{{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }},{{ to_parse_inventory[slot].rp[part].sn }},{{ to_parse_inventory[slot].rp[part].vid }},{{ subslot }},{{ subslot_part }},{{ part_details.descr }},{{ part_details.sn }},{{ part_details.vid }}{% endfor %}{% endfor %}{% endfor %}{% else %}
{{ hostname }},{{ slot }},{{ part }},{{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }},{{ to_parse_inventory[slot].rp[part].sn }},{{ to_parse_inventory[slot].rp[part].vid }},N/A,N/A,N/A,N/A,N/A{% endif %}{% endfor %}{% endfor %}{% else %}{% if filetype_loop_jinja2 == "md" %}{% for slot in to_parse_inventory %}{% for part in to_parse_inventory[slot].rp %}{% if to_parse_inventory[slot].rp[part].subslot is defined %}{% for subslot in to_parse_inventory[slot].rp[part].subslot %}{% for subslot,subslot_part in to_parse_inventory[slot].rp[part].subslot.items() %}{% for subslot_part,part_details in subslot_part.items() %}
| {{ hostname }} | {{ slot }} | {{ part }} | {{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }} | {{ to_parse_inventory[slot].rp[part].sn }} | {{ to_parse_inventory[slot].rp[part].vid }} | {{ subslot }} | {{ subslot_part }} | {{ part_details.descr }} | {{ part_details.sn }} | {{ part_details.vid }} |{% endfor %}{% endfor %}{% endfor %}{% else %}
| {{ hostname }} | {{ slot }} | {{ part }} | {{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }} | {{ to_parse_inventory[slot].rp[part].sn }} | {{ to_parse_inventory[slot].rp[part].vid }} | N/A | N/A | N/A | N/A | N/A |{% endif %}{% endfor %}{% endfor %}{% else %}{% for slot in to_parse_inventory %}{% for part in to_parse_inventory[slot].rp %}{% if to_parse_inventory[slot].rp[part].subslot is defined %}{% for subslot in to_parse_inventory[slot].rp[part].subslot %}{% for subslot,subslot_part in to_parse_inventory[slot].rp[part].subslot.items() %}{% for subslot_part,part_details in subslot_part.items() %}
<tr>
  <td>{{ hostname }}</td>
  <td>{{ slot }}</td>
  <td>{{ part }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].sn }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].vid }}</td>
  <td>{{ subslot }}</td>
  <td>{{ subslot_part }}</td>
  <td>{{ part_details.descr }}</td>
  <td>{{ part_details.sn }}</td>
  <td>{{ part_details.vid }}</td>
</tr>{% endfor %}{% endfor %}{% endfor %}{% else %}
<tr>
  <td>{{ hostname }}</td>
  <td>{{ slot }}</td>
  <td>{{ part }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].descr | replace(","," ") }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].sn }}</td>
  <td>{{ to_parse_inventory[slot].rp[part].vid }}</td>
  <td>N/A</td>
  <td>N/A</td>
  <td>N/A</td>
  <td>N/A</td>
  <td>N/A</td>
</tr>{% endif %}{% endfor %}{% endfor %}{% endif %}{% endif %}